var getParameterByName=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),a=e.exec(location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},accelerationUpdates=function(t,e,a,c,i){$(".subtle-parallax").css("transform","translate("+t/60*-1+"%, "+e/30*-1+"%)")};clickActivate=function(t){$(".click-activate",t).on("click",function(t){t.preventDefault(),$($(this).attr("data-clean")).removeClass("active"),$($(this).attr("data-activate")).addClass("active"),$(this).addClass("active")})},clickToggle=function(t){$(".click-toggle",t).on("click",function(t){t.preventDefault(),$($(this).attr("data-clean")).removeClass("active"),$($(this).attr("data-activate")).toggleClass("active"),$(this).toggleClass("active")})},$(document).ready(function(){getParameterByName("trigger")&&setTimeout(function(){$("[data-activate=#"+getParameterByName("trigger")+"]").trigger("click").addClass("active").parent().addClass("active").siblings().removeClass("active")},250),$(".scroll-to").click(function(t){t.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("data-href")).offset().top},500)}),clickActivate("body"),clickToggle("body"),$(document).pjax(".pjax","#pjax-container"),$(document).on("pjax:timeout",function(t){t.preventDefault()}),$(document).on("pjax:complete",function(t){$("[data-activate=#"+$(".panel","#pjax-container").attr("id")+"]").addClass("active").parent().addClass("active").siblings().removeClass("active"),clickActivate("#"+$(".panel","#pjax-container").attr("id")),clickToggle("#"+$(".panel","#pjax-container").attr("id")),$("html, body").animate({scrollTop:$($("#pjax-container")).offset().top-50},500)}),Modernizr.touch?window.ondeviceorientation=function(t){var e=Math.ceil(10*t.gamma),a=Math.ceil(10*t.beta),c=e-$("#center").offset().left+$(window).scrollLeft(),i=a-$("#center").offset().top+$(window).scrollTop(),n=-c>0?0:c,o=-i>0?0:i;accelerationUpdates(c,i,n,o,t)}:$("html").mousemove(function(t){var e=t.clientX-$("#center").offset().left+$(window).scrollLeft(),a=t.clientY-$("#center").offset().top+$(window).scrollTop(),c=-e>0?-e:e,i=-a>0?-a:a;c=c/$(window).innerWidth()*4e3,i=i/$(window).innerHeight()*4e3,accelerationUpdates(e,a,c,i,t)}),$(document).keyup(function(t){27==t.keyCode})});